{% extends 'exam/adminbase.html' %}
{% load widget_tweaks %}
{% block content %}

<head>
  <style>
    .form-container {
      max-width: 800px;
      margin: 40px auto;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .form-group {
      margin-bottom: 1.5rem;
    }
    .form-label {
      font-weight: 600;
      color: #495057;
    }
    .alert {
      margin: 20px 0;
      padding: 15px;
    }
  </style>
</head>

<div class="form-container">
  <h2 class="text-center mb-4">Talabani Yangilash</h2>

  <!-- Xatoliklarni ko'rsatish -->
  {% if userForm.errors %}
  <div class="alert alert-danger">
    <strong>Foydalanuvchi ma'lumotlarida xatolik:</strong>
    {{ userForm.errors }}
  </div>
  {% endif %}

  {% if studentForm.errors %}
  <div class="alert alert-danger">
    <strong>Talaba ma'lumotlarida xatolik:</strong>
    {{ studentForm.errors }}
  </div>
  {% endif %}

  <form method="post" enctype="multipart/form-data" novalidate>
    {% csrf_token %}

    <!-- User Form Maydonlari -->
    <div class="form-group">
      <label class="form-label">Ism</label>
      {% render_field userForm.first_name class+="form-control" %}
    </div>

    <div class="form-group">
      <label class="form-label">Familiya</label>
      {% render_field userForm.last_name class+="form-control" %}
    </div>

    <div class="form-group">
      <label class="form-label">Email</label>
      {% render_field userForm.email class+="form-control" %}
    </div>

    <div class="form-group">
      <label class="form-label">Username</label>
      {% render_field userForm.username class+="form-control" %}
    </div>

   <div class="form-group">
    <label class="form-label">Parol</label>
    {% render_field userForm.password class+="form-control" placeholder="Parolni o&#39;zgartirmasangiz bo&#39;sh qoldiring" %}
    <small class="form-text text-muted">Parolni faqat o'zgartirmoqchi bo'lsangiz kiriting</small>
  </div>
    <!-- Student Form Maydonlari -->
    <div class="form-group">
      <label class="form-label">Telefon</label>
      {% render_field studentForm.mobile class+="form-control" %}
    </div>

    <div class="form-group">
      <label class="form-label">Manzil</label>
      {% render_field studentForm.address class+="form-control" %}
    </div>

    <div class="form-group">
      <label class="form-label">Profil rasmi</label>
      {% render_field studentForm.profile_pic class+="form-control-file" %}
    </div>

    <div class="text-center">
      <button type="submit" class="btn btn-primary btn-lg px-5">Yangilash</button>
      <a href="{% url 'admin-view-student' %}" class="btn btn-secondary btn-lg px-5">Orqaga</a>
    </div>
  </form>
</div>

<br><br><br>
{% endblock content %}